=============
paya.lib.skel
=============

.. py:module:: paya.lib.skel

.. py:class:: Chain(*joints)

    .. py:method:: __init__(*joints)
    
        Initialize self.  See help(type(self)) for accurate signature.
    
    .. py:classmethod:: getFromStartEnd(startJoint, endJoint)
    
        :param startJoint: the root joint for the chain
        :type startJoint: str, :class:`~paya.nodetypes.joint.Joint`
        :param endJoint: the end (tip) joint for the chain
        :type endJoint: str, :class:`~paya.nodetypes.joint.Joint`
        :return: A chain from the start joint to the end joint, inclusively.
        :rtype: :class:`Chain`
    
    .. py:classmethod:: getFromRoot(rootJoint)
    
        :param startJoint: the root joint for the chain
        :type startJoint: str, :class:`~paya.nodetypes.joint.Joint`
        :return: A chain from the specified root joint. The chain will
            terminate before the first branch.
        :rtype: :class:`Chain`
    
    .. py:classmethod:: createFromMatrices(matrices, under=None)
    
        Creates a chain from matrices. The joints will match the matrices
        exactly; no attempt is made to orient the chain.
        
        :param matrices: the matrices to use
        :param under/u: an optional parent for the chain; defaults to None
        :return: :class:`Chain`
    
    .. py:classmethod:: createFromPoints(points, downAxis, upAxis, upVector, under=None, tolerance=1e-07)
    
        Builds a chain from points. The side ('up') axis will be calculated
        using cross products, but those will be biased towards the reference
        up vector.
        
        :param points: a world position for each joint
        :param str downAxis: the 'bone' axis; defaults to
            ``paya.config.downAxis``
        :param str upAxis: the axis to map to the up vector; defaults to
            ``paya.config.upAxis``
        :param upVector: the reference up vector
        :param under/u: an optional parent for the chain; defaults to None
        :param float tolerance/tol: see
            :func:`paya.lib.mathops.getAimingMatricesFromPoints`
        :return: The constructed chain.
        :rtype: :class:`Chain`
    
    .. py:classmethod:: createFromCurve(curve, numberOrFractions, downAxis, upAxis, upVectorOrCurve, tolerance=1e-07)
    
        Draws a chain (once) along a curve. Either 'upCurve' or 'upVector'
        must be provided.
        
        :param numberOrFractions: this can either be a list of length
            fractions, or a number
        :param curve: the curve along which to distribute joints
        :type curve: str or :class:`~pymel.core.general.PyNode`
        :param str downAxis: the 'bone' axis
        :param str upAxis: the axis to map to the up vector(s)
        :param upVectorOrCurve: either an up vector, or an up curve
        :type upVectorOrCurve: list, :class:`~paya.datatypes.Vector`, str,
            :class:`~paya.nodetypes.dagNode.DagNode`
        :param float tolerance/tol: see
            :func:`paya.lib.mathops.getAimingMatricesFromPoints`
        :return: The constructed chain.
        :rtype: :class:`Chain`
    
    .. py:method:: orient(downAxis, upAxis, upVector, tolerance=1e-07)
    
        Orients this chain.
        
        :param upVector: a reference up vector
        :param str downAxis: the aiming (bone) axis
        :param str upAxis: the axis to map to the up vector
        :type upVector: list, :class:`~paya.datatypes.vector.Vector`
        :param float tolerance/tol: see
            :func:`paya.lib.mathops.getAimingMatricesFromPoints`
        :return: ``self``
        :rtype: :class:`Chain`
    
    .. py:method:: bones()
    
        :return: One :class:`Chain` instance per overlapping pair of joints.
        :rtype: :class:`list` of :class:`Chain`
    
    .. py:method:: vectors(plug=False)
    
        :param bool plug/p: return attributes instead of values; defaults to
            False
        :return: A vector for each bone in this chain.
        :rtype: :class:`list` of :class:`~paya.plugtypes.vector.Vector`
            or :class:`~paya.datatypes.vector.Vector`
    
    .. py:method:: points(plug=False)
    
        :param bool plug/p: return attributes instead of values; defaults to
            False
        :return: A world position for each joint in this chain.
        :rtype: :class:`list` of :class:`~paya.datatypes.point.Point`
    
    .. py:method:: contiguous()
    
        :return: True if every member of this chain is a child of its
            predecessor, otherwise False.
        :rtype: bool
    
    .. py:method:: roots()
    
        :return: The first joint, and any member which is not a child of its
            predecessor.
        :rtype: list
    
    .. py:method:: length(plug=False)
    
        :param bool plug/p: return an attribute instead of a value; defaults
            to False
        :return: The length of this chain.
        :rtype: :class:`float` or :class:`~paya.plugtypes.math1D.Math1D`
    
    .. py:method:: skinClusters()
    
        :return: Any skinClusters associated with any joint in this chain, in
            no particular order.
        :rtype: list
    
    .. py:method:: downAxis()
    
        :return: The 'bone' axis of this chain (e.g. 'x')
        :rtype: str
    
    .. py:method:: insertJoints(*numberOrRatios)
    
        Inserts joints along the chain.
        
        :param \*numberOrRatios: either a single integer or one or more
            floats; if floats are passed, they must each be greater than 0.0
            and less than 1.0, and will be used to cut the chain at those
            length ratios; if an integer is passed, this number of cuts will
            be performed at regular intervals
        :return: Joints created by the operation.
        :rtype: list
    
    .. py:method:: duplicate(name=None, startNumber=1)
    
        Duplicates this chain, with smart reparenting if it's not contiguous.
        
        :param name/n: one or more name elements
        :type name/n: list, str, int
        :param int startNumber/sn: the number to start from; defaults to 1
        :return: The chain duplicate.
        :rtype: :class:`~paya.lib.skel.Chain`
    
    .. py:method:: rename(*elems, startNumber=1)
    
        Renames this chain. Numbers will be added before the suffix.
        
        :param \*elems: one or more name elements
        :type \*elems: list, str, int
        :param int startNumber/sn: the number to start from; defaults to 1
        :return: ``self``
    
    .. py:method:: compose()
    
        Ensures that every member of this chain is a child of its predecessor.
    
    .. py:method:: explode()
    
        Reparents every joint under the parent of the first joint.
    
    .. py:method:: appendChain(otherChain, replaceTip=True)
    
        This is an in-place operation. Splices ``otherChain`` to the bottom of
        this chain and updates the membership.
        
        :param otherChain: the chain to append to this one
        :type otherChain: list or :class:`Chain`
        :param bool replaceTip/rt: replace this chain's tip joint; defaults
            to True
        :return: ``self``
        :rtype: :class:`Chain`
    
    .. py:method:: reset()
    
        Sets rotations on every joint of this chain to [0.0, 0.0, 0.0].
        
        :return: ``self``
    
    .. py:method:: getPolePoint(distance=1.0)
    
        This method creates a temporary IK handle and samples its default
        ``poleVector`` value. For this reason it will be affected by any
        ``preferredAngle`` values.
        
        :param distance/d: the pole point's distance from the chain's chord
            vector axis; defaults to 1.0
        :type distance/d: float or int
        :return: An inert world-position point target for a pole vector
            constraint or
            :meth:`~paya.nodetypes.ikhandle.IkHandle.setPolePoint`.
        :rtype: :class:`~paya.datatypes.point.Point`
    
    .. py:method:: ikHandles()
    
        :return: IK handles affecting this chain.
        :rtype: :class:`list` of :class:`~paya.nodetypes.ikHandle.IkHandle`
    
    .. py:method:: createIkHandles()
    
        Creates One IK handle per bone in this chain. The IK handles will
        all use a single-chain solver.
        
        :return: The IK handles
        :rtype: :class:`list` of :class:`~paya.nodetypes.ikHandle.IkHandle`
    
    .. py:method:: autoPreferredAngle(upAxis, upVector=None)
    
        Automatically configures ``preferredAngle`` on the internal joints to
        prevent lockout when creating an IK handle on an in-line chain.
        
        :param upAxis: the dominant chain 'bend' axis, e.g. '-x'
        :param upVector/upv: an optional 'up' vector; used to override wind
            direction
        :type upVector/upv: list, tuple or
            :class:`~paya.datatypes.vector.Vector`
        :raises AssertionError: the chain is not contiguous
        :return: ``self``
        :rtype: :class:`Chain`